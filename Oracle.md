# 第一章

## 三个阶段

数据管理的三个阶段：

- 人工管理阶段（数据是面向程序的，不具备独立性，更不能共享）
- 文件管理阶段（数据的存储和简单查询）
- 数据库管理阶段（实现数据共享、减少数据冗余、提高数据独立性，对数据进行统一的管理和控制）

***

## SQL 语言的四个部分

SQL（Structured Query Language，结构化查询语言）

- 数据定义语言（Data Definition Language，DDL），定义和管理数据库以及数据库中的各种对象。
- 数据操作语言（Data Manipulation Language，DML），对数据库中存储的数据进行插入、修改和删除。
- 数据查询语言（Data Query Language，DQL），对数据库中存储的数据执行各种查询操作，主要是 SELECT 语句。
- 数据控制语言（Data Control Language，DCL），用于在数据库中授予或回收队某对象的相关访问权限。

***

## 三范式

数据库设计的范式理论（xNF）

- 第一范式：表中的每一列都是不可再分的数据项，不能再拆分。
	例如，用户信息表中的 `父母` 信息一栏，需要拆分成 `父亲`和`母亲`两个栏目。
- 第二范式：在满足第一范式的基础上，消除表中的部分依赖。
	*实体的所有非主属性，必须完全依赖于主关键字，不能出现部分依赖，即只依赖于主关键字中的部分属性*。
- 第三范式：在满足第二范式的基础上，消除表中的传递依赖。
	*表中的非主关键字段都应该直接依赖于主关键字*。
	例如，学生信息表中包括 学号、姓名、年龄、所在学院、学院地点、学院电话 这些字段。学号是主键字段，姓名、年龄、所在学院三个字段是直接依赖于主键字段，而学院地点、学院电话这两个字段依赖于所在学院，出现了传递依赖，不符合第三范式。

***

## Oracle 数据库的系统结构

1. Oracle 分布式数据库系统结构
2. Oracle 客户机/服务器系统结构
3. Oracle 浏览器/服务器系统结构

***

## 零散

ORACLE_BASE 目录是 Oracle 产品安装到硬盘上的基本目录。

ORACLE_HOME 是数据库实例的路径。

OracleServiceORCL、OracleOraDb10g_gome1TNSListener 两个服务是必须启动的。

Oracle 数据库的默认用户：
- SYS 默认创建并且授予 DBA 角色，它是 Oracle 数据库中权限最大的管理员账号。
- **SYSTEM** 默认创建并且授予 DBA 角色，权限仅次于 SYS。
- SYSMAN 企业管理的超级管理员账号。
- DBSNMP 用于智能代理的用户，监控和管理数据库的相关性能。
- **SCOTT** 是 Oracle 数据库中供实验用的样例用户

***

## SQL * Plus

使用最多的链接数据库的工具

**AS SYSDBA | SYSOPER**：
SYSDBA 是数据库中的最高权限，可以启动数据库、关闭数据库、建立数据库备份和恢复数据库，以及其他数据库管理操作。
SYSOPER 可以启动和关闭数据库，但是不能建立数据库，也不能执行不完全恢复，可以进行一些基本的操作而不能查看用户的数据，不具备 DBA 角色的任何特权。

***

## Oracle 数据库的启动与关闭

用 STARTUP 命令启动数据库，可以指定三个参数：
- NOMOUNT：表示只启动一个 Oracle 实例
- MOUNT：启动一个 Oracle 实例并打开控制文件
- OPEN：启动一个 Oracle 实例，并以此打开控制文件、数据文件和重做日志文件。

用 SHUTDOWN 关闭数据库，可以指定三个参数
- NORMAL：关闭命令的默认选项。等待所有用户从数据库中退出才开始关闭数据库。
- IMMEDIATE：使用频率最高的关闭数据库的方式。使用该命令，正在处理的 SQL 语句立即中断，系统任何没有提交的数据全部回滚。
- TRANSACTIONAL：计划关闭数据库
- ABORT：在无法正常关闭数据库时才使用这种方式。立即中止，不回滚，需要恢复实例。


# 第二章

## 物理存储结构

- 数据文件
	- 存储各种数据，如表中的记录、索引数据、系统数据和临时数据等。

- 日志文件
	- 记录了用户对数据库的修改信息（如增加、删除、修改），名字通常为 REDO*.LOG 格式。
	- 对数据库执行查询操作不会产生日志。
	- 归档日志模式，自动保存；非归档日志模式，序号自动覆盖。

- 控制文件
	- 数据库的名称、数据文件和联机日志文件的名称及位置、当前的日志序号、表空间等信息。

- 初始化参数文件
	- 文本参数信息 和 服务器参数信息

## 逻辑存储结构

- 表空间

- 段

- 盘区（系统以盘区为单位给段分配新的磁盘空间）

- 数据块（Oracle 最小的存储单元，也是最基本的数据存储单位）

***

## 数据库实例的进程结构（了解）

- 用户进程
- 服务进程
- 后台进程
	- 数据写进程
	- 日志写进程
	- ...

## 内存结构（了解）

系统全局区、程序全局区

***

## 客户端和服务端配置

记住文件名：
- sqlnet.ora
- tnsnames.ora
- listener.ora
<!--stackedit_data:
eyJoaXN0b3J5IjpbNzQ5NDc1NDc1LDg5MDUxODUyOCwyMTcxMz
Y5NDBdfQ==
-->